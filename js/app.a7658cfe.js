(function(e){function t(t){for(var r,l,i=t[0],o=t[1],c=t[2],d=0,f=[];d<i.length;d++)l=i[d],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&f.push(a[l][0]),a[l]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var o=n[i];0!==a[o]&&(r=!1)}r&&(s.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},a={app:0},s=[];function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=o;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.loaded?e._e():n("Load",{on:{load:e.load}}),e.loaded&&!e.download?n("Scoring",{attrs:{images:e.images,current:e.current},on:{"update:images":function(t){e.images=t},"update:current":function(t){e.current=t},scored:e.scored,reset:function(t){e.checkReset=!0}}}):e._e(),e.download?n("Download",{attrs:{images:e.images,scores:e.scores},on:{"update:images":function(t){e.images=t},"update:scores":function(t){e.scores=t},reset:function(t){e.checkReset=!0}}}):e._e(),n("q-dialog",{attrs:{persistent:""},model:{value:e.checkReset,callback:function(t){e.checkReset=t},expression:"checkReset"}},[n("q-card",[n("q-card-section",{staticClass:"row items-center"},[n("q-icon",{staticClass:"text-red",staticStyle:{"font-size":"4rem"},attrs:{name:"warning"}}),n("span",{staticClass:"q-ml-sm"},[e._v(" Do you really want to delete all of your current scoring progress? ")])],1),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{attrs:{flat:"",label:"Cancel",color:"primary"},on:{click:function(t){e.checkReset=!1}}}),n("q-btn",{staticClass:"text-red",attrs:{flat:"",label:"Delete"},on:{click:e.reset}})],1)],1)],1)],1)},s=[],l=(n("96cf"),n("1da1")),i=n("a002"),o=n.n(i),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row items-center full-height"},[n("div",{staticClass:"column items-center full-width"},[n("q-card",{staticStyle:{width:"500px"}},[n("q-card-section",[n("q-file",{attrs:{"bottom-slots":"",label:"Pick images",outlined:"","use-chips":"",accept:".jpg, .png, .gif, .tif, image/*",multiple:"",counter:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"cloud_upload"},on:{click:function(e){e.stopPropagation()}}})]},proxy:!0},{key:"hint",fn:function(){return[e._v("Select images to be scored ...")]},proxy:!0}]),model:{value:e.files,callback:function(t){e.files=t},expression:"files"}}),n("br"),n("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Load scoring session",disable:this.files.length<=0},on:{click:e.loadSession}}),n("div",{staticClass:"q-field__bottom q-field__messages"},[n("br"),n("center",[e._v(" Download App for offline usage: "),n("a",{attrs:{href:"FishScoringApp.zip"}},[e._v("download")])])],1)],1)],1)],1)])},u=[],d=n("b178"),f={name:"Load",components:{QCard:d["b"],QFile:d["c"],QIcon:d["d"]},props:["images"],data:function(){return{files:[]}},methods:{loadSession:function(){this.files.length>0&&this.$emit("load",this.shuffleArray(this.files))},shuffleArray:function(e){var t,n,r;for(r=e.length-1;r>0;r--)t=Math.floor(Math.random()*(r+1)),n=e[r],e[r]=e[t],e[t]=n;return e}}},m=f,h=n("2877"),p=Object(h["a"])(m,c,u,!1,null,"7212337a",null),g=p.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-height full-width q-px-md"},[n("div",{staticClass:"row items-center full-height q-col-gutter-md"},[n("div",{staticClass:"col-grow"},[n("q-img",{staticStyle:{"max-height":"95vh"},attrs:{src:e.imgData,contain:""}})],1),n("div",{staticClass:"column"},[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6"},[e._v("Scoring")])]),n("q-separator"),n("q-card-section",[n("q-list",{staticClass:"q-gutter-y-sm"},e._l(e.score,(function(t,r){return n("q-item",{key:r,staticClass:"no-padding"},[n("q-item-section",{staticClass:"q-mb-lg"},[n("q-item-label",{staticClass:"q-mb-sm",attrs:{overline:""}},[e._v(" "+e._s(r)+" ")]),n("q-item-label",[n("q-option-group",{attrs:{options:t,color:"primary",inline:"",dense:""},model:{value:e.result[r],callback:function(t){e.$set(e.result,r,t)},expression:"result[label]"}})],1)],1)],1)})),1)],1),n("q-separator"),n("q-card-section",{staticClass:"q-gutter-y-sm"},[n("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Next"},on:{click:e.next}}),n("q-btn",{staticClass:"full-width text-red",attrs:{outline:"",label:"Reset session"},on:{click:e.resetSession}})],1)],1)],1)]),n("div",{staticClass:"progress full-width"},[n("q-linear-progress",{attrs:{stripe:"",size:"10px",value:this.current/this.images.length}})],1)])},v=[],w=(n("13d5"),n("07ac"),n("5530")),k={name:"Scoring",props:["images","current"],components:{QBtn:d["a"],QCard:d["b"],QImg:d["e"],QLinearProgress:d["i"],QOptionGroup:d["k"],QList:d["j"],QItem:d["f"],QItemSection:d["h"],QItemLabel:d["g"]},data:function(){return{imgData:null,score:{"Distanz: Branching bis Flossenende":[{label:">1,50 mm",value:0},{label:"1,00-1,49 mm",value:1},{label:"0,50-0,99 mm",value:2},{label:"<0,50 mm",value:3}],"Kollateralendichte proximale Hälfte":[{label:"keine",value:0},{label:"kaum",value:1},{label:"wenige",value:2},{label:"viele",value:3}],"Kollateralendichte distale Hälfte":[{label:"keine",value:0},{label:"kaum",value:1},{label:"wenige",value:2},{label:"viele",value:3}],"Anzahl dicker Kollateralen (doppelwandig)":[{label:"0",value:0},{label:"1",value:1},{label:"2-3",value:2},{label:">3",value:3}],"Kollateralen Regelmäßigkeit / Muster":[{label:"nicht erkennbar",value:0},{label:"teilweise",value:1},{label:"erkennbar",value:2},{label:"klar erkennbar",value:3}]},result:{"Distanz: Branching bis Flossenende":null,"Kollateralendichte proximale Hälfte":null,"Kollateralendichte distale Hälfte":null,"Anzahl dicker Kollateralen (doppelwandig)":null,"Kollateralen Regelmäßigkeit / Muster":null}}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showImage(e.images[e.current]);case 1:case"end":return t.stop()}}),t)})))()},computed:{scoreComplete:function(){for(var e in this.result)if(null===this.result[e])return!1;return!0}},methods:{next:function(){if(this.scoreComplete){this.$emit("scored",Object(w["a"])({},this.result,{Score:this.calculate()}));var e=this.current+1;this.images[e]&&(this.reset(),this.showImage(this.images[e]))}},resetSession:function(){this.$emit("reset")},calculate:function(){return Object.values(this.result).reduce((function(e,t){return e+t}))},reset:function(){this.result={"Distanz: Branching bis Flossenende":null,"Kollateralendichte proximale Hälfte":null,"Kollateralendichte distale Hälfte":null,"Anzahl dicker Kollateralen (doppelwandig)":null,"Kollateralen Regelmäßigkeit / Muster":null}},showImage:function(e){var t=new FileReader,n=this;t.onload=function(){n.imgData=t.result},t.readAsDataURL(e)}}},q=k,x=(n("a3f6"),Object(h["a"])(q,b,v,!1,null,"77386773",null)),y=x.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row items-center full-height"},[n("div",{staticClass:"column items-center full-width"},[n("q-card",{staticStyle:{width:"500px"}},[n("q-card-section",{staticClass:"q-gutter-y-sm"},[n("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Download scoring results"},on:{click:e.download}}),n("q-btn",{staticClass:"full-width text-red",attrs:{outline:"",label:"Start New Session"},on:{click:e.resetSession}})],1)],1)],1)])},C=[],S=(n("b0c0"),{name:"Download",components:{QCard:d["b"],QBtn:d["a"]},props:["images","scores"],methods:{download:function(){for(var e="Image",t="",n=0;n<this.images.length;n++){for(var r in t+=this.images[n].name,this.scores[n])0===n&&(e+=","+r),t+=","+this.scores[n][r];t+="\n"}e+="\n";var a=document.createElement("a");a.href="data:text/csv;charset=utf-8,"+encodeURI(e+t),a.target="_blank",a.download="scoring_results.csv",a.click()},resetSession:function(){this.$emit("reset")}}}),R=S,O=Object(h["a"])(R,_,C,!1,null,"16763868",null),j=O.exports,D={name:"App",components:{Load:g,Scoring:y,Download:j},data:function(){return{checkReset:!1,download:!1,loaded:!1,images:[],scores:[],current:0}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.a.getItem("session");case 2:n=t.sent,n&&(e.images=n.images,e.current=n.current,e.scores=n.scores,e.download=e.images.length===e.scores.length,e.loaded=!0);case 4:case"end":return t.stop()}}),t)})))()},methods:{load:function(e){this.images=e,this.current=0,this.scores=[],this.loaded=!0},scored:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.scores[t.current]=e,t.images[t.current+1]&&t.current++,n.next=4,o.a.setItem("session",{images:t.images,current:t.current,scores:t.scores});case 4:t.images[t.current+1]||t.images.length!==t.scores.length||(t.download=!0);case 5:case"end":return n.stop()}}),n)})))()},reset:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.a.removeItem("session");case 2:e.images=[],e.scores=[],e.current=0,e.loaded=!1,e.download=!1,e.checkReset=!1;case 8:case"end":return t.stop()}}),t)})))()}}},Q=D,I=(n("034f"),Object(h["a"])(Q,a,s,!1,null,null,null)),K=I.exports,P=n("fe09");r["a"].use(P["a"]),r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(K)}}).$mount("#app")},"85ec":function(e,t,n){},a3f6:function(e,t,n){"use strict";var r=n("f372"),a=n.n(r);a.a},f372:function(e,t,n){}});
//# sourceMappingURL=app.a7658cfe.js.map